let doctors = [
  {
    id: '0e17446e-a2fa-413b-84b2-a42e625016c8',
    subscriberNumber: '7328',
    gender: null,
    title: 'دکتر',
    firstName: 'فتانه',
    lastName: 'محمدی',
    medicalCouncilNumber: '10633',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'مشاور خانواده',
    currentlyAvailable: false,
    imagePath: 'Doctors/17328/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 2100,
          to: 2820
        },
        {
          from: 3540,
          to: 4260
        },
        {
          from: 4980,
          to: 5700
        },
        {
          from: 6420,
          to: 7140
        },
        {
          from: 7860,
          to: 8580
        },
        {
          from: 9300,
          to: 10020
        },
        {
          from: 660,
          to: 1380
        }
      ]
    },
    workplaces: [
      {
        title: 'مطب نارمک',
        street:
          'نارمک میدان هلال احمربه سمت جانبازان نبش ورودی میدان 83 پلاک 19 طبقه اول مرکز مشاوره آمین',
        phoneNumber: '02177955526',
        longitude: null,
        latitude: null,
        description: 'روزهای فرد ساعت    15-19'
      }
    ],
    custom_tags: [
      { id: 1, title: 'مشاوره خانواده و روابط بین فردی' },
      { id: 2, title: 'مشاوره ازدواج و پیش از ازدواج' },
      { id: 3, title: 'مشاوره کودک و فرزند پروری' },
      { id: 4, title: 'مشاوره نوجوانان و بلوغ' },
      { id: 5, title: 'مشاوره افسردگی و اضطراب' },
      { id: 6, title: 'مشاوره مشکلات فردی' }
    ],
    fields: [
      'کارشناسی مشاوره و راهنمایی',
      'کارشناسی ارشد مشاوره',
      'مدرس دانشگاه و مهارت های زندگی POT',
      'تحلیل ارتباط متقابل TA'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'پریسا',
        text:
          'عالی هستن ایشون، خوب درکتون میکنن و آرامش رو براتون محیا میکنن. ممنون که هستین'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text:
          'خانوم دکتر ازتون تشکر میکنم بابت راهنماییهای علمی و موثرتون و از اینکه دلسوزانه پیگیری میکنید بسیار ممنونم'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'علیرضا',
        text:
          'واقعا هم صحبت و دوست خیلی خوبی هستن بدون اینکه قضاوتم کنن به حرفام گوش میکنن و بهترین راهکارو میدن'
      }
    ],
    success_call: 103
  },
  {
    id: 'bc94b770-6a2f-460c-bbde-454abd93f61a',
    subscriberNumber: '7155',
    gender: null,
    title: null,
    firstName: 'ندا',
    lastName: 'نعیمی',
    medicalCouncilNumber: '717/2696/1827',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'کارشناس ارشد  روانشناسی بالینی',
    currentlyAvailable: false,
    imagePath: 'Doctors/17155/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 2040,
          to: 2820
        },
        {
          from: 3480,
          to: 4260
        },
        {
          from: 4920,
          to: 5700
        },
        {
          from: 6360,
          to: 7140
        },
        {
          from: 7800,
          to: 8580
        },
        {
          from: 9240,
          to: 10020
        },
        {
          from: 600,
          to: 1380
        }
      ]
    },
    workplaces: [
      {
        title: 'مرکز مشاوره و خدمات روان‌شناختی رهنمود',
        street:
          'خیابان شریعتی، بعداز پل سید خندان، نبش کوچه هوشیار، ساختمان پزشکان ۱۰۰۶، طبقه سوم، واحد ۱۱۰',
        phoneNumber: null,
        longitude: null,
        latitude: null,
        description:
          'خانواده درمانی، زوج درمانی، مشاوره ازدواج، مشاوره تحصیلی و شغلی، روانشناختی اعتیاد، گروه درمانی، روانشناسی کودک، مشاوره جنسی، مشاوره نوجوانان، شادزیستی سالمندان، درمان اضطراب، افسردگی، وسواس و پرخاشگری'
      }
    ],
    custom_tags: [
      { id: 1, title: 'دانشجوی دکتری روانشناسی بالینی' },
      { id: 2, title: 'کارشناسی ارشد روانشناسی بالینی' },
      { id: 3, title: 'مدیر مرکز مشاوره رهنمود' }
    ],

    fields: [
      'مشاوره خانواده و زناشویی',
      'مشاوره ازدواج و پیش از ازدواج',
      'مشاوره کودک و فرزند پروری',
      'مشاوره نوجوانان و بلوغ',
      'مشاوره افسردگی و اضطراب',
      'مشاوره مشکلات فردی'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text: 'بسیار خوب، با حوصله و نظرات کارشناسی راهنمایی میکنند ممنون.'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'علیپور',
        text: 'با صبر و حوصله و ارائه راهکارهای کاربردی. متشکر'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'Farid',
        text: 'خیلی خوش اخلاق و خوش برخورد و مهربان بودن واقعا عالی بودن'
      }
    ],
    success_call: 258
  },
  {
    id: '5076f3e6-530a-4fc7-bfd3-3b35eb68366d',
    subscriberNumber: '7594',
    gender: null,
    title: 'سرکار خانم',
    firstName: 'ملیحه',
    lastName: 'طباطبائی',
    medicalCouncilNumber: '3788',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'کارشناس ارشد مشاوره',
    currentlyAvailable: false,
    imagePath: 'Doctors/17594/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 1440,
          to: 2879
        },
        {
          from: 2880,
          to: 4319
        },
        {
          from: 4320,
          to: 5759
        },
        {
          from: 5760,
          to: 7199
        },
        {
          from: 7200,
          to: 8639
        },
        {
          from: 8640,
          to: 10079
        },
        {
          from: 0,
          to: 1439
        }
      ]
    },
    workplaces: [
      {
        title: 'کلینیک سخن آشنا',
        street:
          'سیدخندان - خیابان خواجه عبدالله - برج آسمان - طبقه ۶ -  واحد c',
        phoneNumber: '021-22856832',
        longitude: 51.4515999,
        latitude: 35.7451291,
        description: 'با تعیین وقت قبلی'
      }
    ],

    custom_tags: [
      { id: 1, title: 'کارشناسی ارشد مشاوره' },
      { id: 2, title: 'کارشناسی مشاوره و راهنمایی' },
      { id: 3, title: 'عضو سازمان نظام روانشناسی' }
    ],

    fields: [
      'مشاوره خانواده و زناشویی',
      'مشاوره ازدواج و پیش از ازدواج',
      'مشاوره کودک و فرزند پروری',
      'مشاوره نوجوانان و بلوغ',
      'مشاوره افسردگی و اضطراب',
      'مشاوره مشکلات فردی'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text:
          'مشاور بسیار مهربان و باسواد و همراه بسیار خوبی در لحظات زندگی هستن'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text: 'با توجه و فهیم و صبور'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'فریبا',
        text: 'خیلی عالی ممنونم از کمکتون'
      }
    ],
    success_call: 51
  },
  {
    id: 'cea393c6-e5d7-4431-a53d-ef64eb4c1722',
    subscriberNumber: '7265',
    gender: null,
    title: null,
    firstName: 'اکرم',
    lastName: 'صادقی',
    medicalCouncilNumber: '12091',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'کارشناس ارشد روانشناسی',
    currentlyAvailable: false,
    imagePath: 'Doctors/17265/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 1920,
          to: 2760
        },
        {
          from: 3360,
          to: 4200
        },
        {
          from: 4800,
          to: 5640
        },
        {
          from: 6240,
          to: 7080
        },
        {
          from: 7680,
          to: 8520
        },
        {
          from: 9120,
          to: 9960
        },
        {
          from: 480,
          to: 1320
        }
      ]
    },
    workplaces: [
      {
        title: 'مطب پاسداران',
        street:
          'خیابان پاسداران - خیابان دولت - مابین اختیاریه و دیباجی - جنب مانتو رمانتیک - مجتمع سینا',
        phoneNumber: '22551197',
        longitude: null,
        latitude: null,
        description: 'شماره نوبت دهی : 09904392249'
      }
    ],
    custom_tags: [
      { id: 1, title: 'دکتری روانشناسی' },
      { id: 2, title: 'کارشناسی ارشد روانشناسی' }
    ],
    fields: [
      'مشاوره خانواده و روابط بین فردی',
      'مشاوره ازدواج و پیش از ازدواج',
      'مشاوره جنسی و سکس تراپی',
      'مشاوره افسردگی',
      'مشاوره اختلالات اضطرابی',
      'مشاوره مشکلات فردی'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'میلاد',
        text: 'عالی ممنونم ازتون'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text: 'عالیه عالیه.بهترین روانشناس هستن'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text: 'بسیار عالی هستن و خوب گوش میکنن و راهکارهای موثری ارایه میدهند'
      }
    ],
    success_call: 59
  },
  {
    id: 'b8acf4ad-5c39-41d3-ab5c-b1bda13bbd6c',
    subscriberNumber: '7106',
    gender: null,
    title: null,
    firstName: 'مینا',
    lastName: 'حسینی سده',
    medicalCouncilNumber: '5791',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'کارشناس ارشد روان‌شناسی',
    currentlyAvailable: false,
    imagePath: 'Doctors/17106/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 1440,
          to: 2879
        },
        {
          from: 2880,
          to: 4319
        },
        {
          from: 4320,
          to: 5759
        },
        {
          from: 5760,
          to: 7199
        },
        {
          from: 7200,
          to: 8639
        },
        {
          from: 8640,
          to: 10079
        },
        {
          from: 0,
          to: 1439
        }
      ]
    },
    workplaces: [
      {
        title: 'مطب سهروردی',
        street: 'سهرودی، خیابان ابن یمین، خیابان شانزدهم، کلینیک بهی',
        phoneNumber: null,
        longitude: null,
        latitude: null,
        description: null
      },
      {
        title: 'مطب میرداماد',
        street:
          'خیابان شریعتی، ابتدای میرداماد، پلاک ۱، واحد ۳،  کلینیک نیک اندیشان',
        phoneNumber: '02122270544',
        longitude: null,
        latitude: null,
        description: null
      },
      {
        title: 'مطب قیطریه',
        street:
          'قیطریه بلوار اندرزگو نبش سالاری بن بست سالاری پلاک 14 طبقه اول کلینیک پایا (تحت نظارت دکتر حسین فوده )',
        phoneNumber: '22205611',
        longitude: null,
        latitude: null,
        description:
          'همه روزه بغیر از یک شنبه و پنج شنبه از ساعت 9 صبح الی 7 بعد از ظهر'
      }
    ],

    custom_tags: [
      { id: 1, title: 'کارشناسی ارشد روانشناسی بالینی' },
      { id: 2, title: 'کارشناسی مشاوره عمومی' },
      { id: 3, title: 'دوره شناختی درمانی' },
      { id: 4, title: 'دوره طرحواره درمانگر' }
    ],

    fields: [
      'مشاوره خانواده و زناشویی',
      'مشاوره ازدواج و پیش از ازدواج',
      'مشاوره کودک و فرزند پروری',
      'مشاوره نوجوانان و بلوغ',
      'مشاوره افسردگی و اضطراب',
      'مشاوره مشکلات فردی'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'رامین',
        text: 'مث همیشه عالی و آرامش بخش. خیلی ازتون ممنونم'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'مریم',
        text:
          'خانم ده ارا خیلی خیلی عالی هستن یک ارامش خیلی خاصی دارن بسیار از ایشون راضی بودم'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'فرزاد',
        text: 'واقعا جلسه خیلی عالی و خیلی مفیدی رو گذروندم ممنون'
      }
    ],
    success_call: 99
  },
  {
    id: 'f73697a4-209b-49c6-bce6-588a6d25ca7c',
    subscriberNumber: '7305',
    gender: null,
    title: null,
    firstName: 'بهنوش',
    lastName: 'ده‌آرا',
    medicalCouncilNumber: '0',
    specialty: {
      id: 41,
      title: 'روانشناسی',
      description: 'psychology',
      iconPath: 'Doctors/MedicalSpecialties/41/Icon'
    },
    expertise: 'کارشناس ارشد روان‌شناسی بالینی',
    currentlyAvailable: false,
    imagePath: 'Doctors/17305/Image',
    providesDiagnosticDocumentsService: false,
    timetable: {
      segments: [
        {
          from: 2160,
          to: 2580
        },
        {
          from: 3600,
          to: 4020
        },
        {
          from: 5040,
          to: 5460
        },
        {
          from: 6480,
          to: 6900
        },
        {
          from: 7920,
          to: 8340
        },
        {
          from: 9360,
          to: 9780
        },
        {
          from: 720,
          to: 1140
        }
      ]
    },
    workplaces: [],
    custom_tags: [
      { id: 1, title: 'کارشناسی ارشد روان شناسی' },
      { id: 2, title: 'عضو سازمان نظام روان شناسی ۵۷۹۱' },
      { id: 3, title: 'مشاور و مدرس دانشگاه' },
      { id: 4, title: 'مدرس مهارت های زندگی' }
    ],
    fields: [
      'مشاوره خانواده و زناشویی',
      'مشاوره ازدواج و پیش از ازدواج',
      'مشاوره کودک و فرزند پروری',
      'مشاوره نوجوانان و بلوغ',
      'مشاوره افسردگی و اضطراب',
      'مشاوره مشکلات فردی'
    ],
    comments: [
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'Fatemeh',
        text:
          'خیلی خیلی عالی بودن و کلی به ادم احساس ارامش میدادن و حس میکردم که یک نفر واقعا داره من رو درک میکنه'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text:
          'واقعا حرفه ای مشکلات رو ریشه یابی میکنن و از عمق خیال ادم رو مطمین میکنند واقعا داشتن یک روانشناس خوب لازمه خیلی حرفه ای هسنند و عالی'
      },
      {
        created_at: '2018-05-23 19:04:29',
        owner_name: 'ناشناس',
        text:
          'عالی بود واقعا آدم منطقی بودن من از هم صحبتی با ایشون خیلی آرامش گرفتم و توصیه میکنم به دوستان'
      }
    ],
    success_call: 81
  }
];
for (let doctor of doctors) {
  for (const item of doctor.timetable.segments) {
    let start_hour = get_hour(item.from);
    let end_hour = get_hour(item.to);
    let start_minute = get_minute(item.from);
    let end_minute = get_minute(item.to);
    const day_of_week = get_day(item.from);
    let now = {
      day_of_week: new Date().getDay(),
      hour: new Date().getHours(),
      minute: new Date().getMinutes()
    };
    if (day_of_week == now.day_of_week) {
      if (start_hour < now.hour && end_hour > now.hour) {
        doctor.currentlyAvailable = true;
        break;
      }
      if (start_hour == now.hour && start_minute < now.minute) {
        doctor.currentlyAvailable = true;
        break;
      }
      if (end_hour == now.hour && end_minute > now.minute) {
        doctor.currentlyAvailable = true;
        break;
      }
    }
  }
}
function get_hour(value) {
  let hour = Math.floor((value / 60) % 24);
  return hour < 10 ? `0${hour}` : hour;
}
function get_minute(value) {
  let minute = Math.round(((value / 60) % 1) * 60);
  return minute < 10 ? `0${minute}` : minute;
}
function get_day(value) {
  return Math.floor(value / 60 / 24);
}

export default doctors;
// module.exports = doctors;
